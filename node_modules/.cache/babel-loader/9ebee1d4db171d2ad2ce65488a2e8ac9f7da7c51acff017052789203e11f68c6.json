{"ast":null,"code":"var _jsxFileName = \"D:\\\\dotnetreact-loanapp\\\\reactapp\\\\src\\\\Components\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './Home.css';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [showDeletePopup, setShowDeletePopup] = useState(false);\n  const [loanToDelete, setLoanToDelete] = useState(null);\n  const [availableLoans, setAvailableLoans] = useState([]);\n  // Sample data for available loans (you can replace this with actual data)\n  useEffect(() => {\n    fun();\n  }, []);\n  async function fun() {\n    const response = await axios.get('https://dotnetiamneo.azurewebsites.net/api/Loan');\n    console.log(\"response in getall\", response);\n    setAvailableLoans(response.data);\n  }\n  const handleDeleteClick = loan => {\n    setLoanToDelete(loan);\n    setShowDeletePopup(true);\n  };\n  async function handleConfirmDelete() {\n    try {\n      if (loanToDelete) {\n        const response = await axios.delete('https://dotnetiamneo.azurewebsites.net/api/Loan/' + loanToDelete);\n        console.log(\"response in delete\", response);\n        if (response.status == 204) {\n          fun();\n        }\n        closeDeletePopup();\n      }\n    } catch {}\n  }\n  ;\n  const closeDeletePopup = () => {\n    setLoanToDelete(null);\n    setShowDeletePopup(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"logoutbutton\",\n      onClick: () => {\n        navigate(\"/user/login\");\n        localStorage.clear();\n      },\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loanHomeBody\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Vehicle Loan Application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"req_button\",\n        onClick: () => navigate(\"/loanrequest\"),\n        children: \"Loans Requested\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"new_button\",\n        onClick: () => navigate(\"/newloan\"),\n        children: \"Create New\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"loan-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"LoanType\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Maximum Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Interest Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), availableLoans.length ? /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: availableLoans === null || availableLoans === void 0 ? void 0 : availableLoans.map(loan => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: loan.loanType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"$\", loan.maximumAmount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [loan.interestRate, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: loan.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => navigate(\"/newloan/\" + loan.loanID),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteClick(loan.loanID),\n                \"data-testid\": `delete-button-${loan.loanID}`,\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)]\n          }, loan.loanID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 46\n        }, this) : \"No Records found\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), showDeletePopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"delete-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Are you sure you want to delete?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleConfirmDelete,\n        children: \"Yes, Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: closeDeletePopup,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(HomePage, \"xkmIX4c85xYtW3g+LzxQetokMJ8=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","HomePage","_s","navigate","showDeletePopup","setShowDeletePopup","loanToDelete","setLoanToDelete","availableLoans","setAvailableLoans","fun","response","get","console","log","data","handleDeleteClick","loan","handleConfirmDelete","delete","status","closeDeletePopup","children","id","onClick","localStorage","clear","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","loanType","maximumAmount","interestRate","description","loanID","_c","$RefreshReg$"],"sources":["D:/dotnetreact-loanapp/reactapp/src/Components/Home.jsx"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport './Home.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst HomePage = () => {\r\n    const navigate = useNavigate();\r\n    const [showDeletePopup, setShowDeletePopup] = useState(false);\r\n    const [loanToDelete, setLoanToDelete] = useState(null);\r\n    const[availableLoans, setAvailableLoans]=useState([])\r\n    // Sample data for available loans (you can replace this with actual data)\r\n    useEffect(()=>{\r\n        fun()\r\n    },[])\r\n    async function fun()\r\n    {\r\n        const response = await axios.get('https://dotnetiamneo.azurewebsites.net/api/Loan');\r\n        console.log(\"response in getall\",response)\r\n        setAvailableLoans(response.data)\r\n    }\r\n\r\n    const handleDeleteClick = (loan) => {\r\n        setLoanToDelete(loan);\r\n        setShowDeletePopup(true);\r\n    };\r\n\r\n    async function handleConfirmDelete(){\r\n       try{\r\n        if (loanToDelete) {\r\n            const response = await axios.delete('https://dotnetiamneo.azurewebsites.net/api/Loan/'+loanToDelete);\r\n            console.log(\"response in delete\",response)\r\n            if(response.status==204)\r\n            {\r\n                fun()\r\n\r\n            }\r\n            closeDeletePopup()\r\n            }\r\n       }catch{\r\n\r\n       }\r\n    };\r\n\r\n    const closeDeletePopup = () => {\r\n        setLoanToDelete(null);\r\n        setShowDeletePopup(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n\r\n            <button  id=\"logoutbutton\" onClick={()=>{\r\n                navigate(\"/user/login\");\r\n                localStorage.clear();\r\n            }}>Logout</button>\r\n            <div id=\"loanHomeBody\">\r\n                <h1>Vehicle Loan Application</h1>\r\n                <button id=\"req_button\" onClick={() => navigate(\"/loanrequest\")}>Loans Requested</button>\r\n                <button id=\"new_button\" onClick={() => navigate(\"/newloan\")}>Create New</button>\r\n\r\n                {/* Available Loans Table */}\r\n                <table className=\"loan-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>LoanType</th>\r\n                            <th>Maximum Amount</th>\r\n                            <th>Interest Rate</th>\r\n                            <th>Description</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                   {availableLoans.length?   <tbody>\r\n                        {availableLoans?.map((loan) => (\r\n                            <tr key={loan.loanID}>\r\n                                <td>{loan.loanType}</td>\r\n                                <td>${loan.maximumAmount}</td>\r\n                                <td>{loan.interestRate}%</td>\r\n                                <td>{loan.description}</td>\r\n                                <td>\r\n                                    <button onClick={() => navigate(\"/newloan/\"+loan.loanID)} >Edit</button>\r\n                                    <button onClick={() => handleDeleteClick(loan.loanID)}  data-testid={`delete-button-${loan.loanID}`}>Delete</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>:\"No Records found\"}\r\n                </table>\r\n            </div>\r\n\r\n            {/* Delete Confirmation Popup */}\r\n            {showDeletePopup && (\r\n                <div className=\"delete-popup\">\r\n                    <p>Are you sure you want to delete?</p>\r\n                    <button onClick={handleConfirmDelete}>Yes, Delete</button>\r\n                    <button onClick={closeDeletePopup}>Cancel</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}